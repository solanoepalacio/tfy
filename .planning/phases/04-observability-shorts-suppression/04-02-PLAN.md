---
phase: 04-observability-shorts-suppression
plan: 02
type: execute
wave: 2
depends_on:
  - 04-01
files_modified: []
autonomous: false
requirements:
  - LABL-01
  - SHRT-01

must_haves:
  truths:
    - "Collapsed sidebar items display title and category name in the label — verified in real Chrome"
    - "The Shorts shelf is not visible in the sidebar on any YouTube watch page — verified in real Chrome"
    - "Labels update correctly after SPA navigation to a different video"
  artifacts:
    - path: "content-script.js"
      provides: "All Phase 4 changes — verified working in browser"
  key_links:
    - from: "human tester"
      to: "collapsed sidebar item label"
      via: "visual inspection in Chrome devtools or sidebar UI"
      pattern: "hidden: .+ · .+"
---

<objective>
Human verification of Phase 4 features in a real Chrome browser — confirms LABL-01 rich labels and SHRT-01 Shorts suppression both work end-to-end.

Purpose: Automated checks verify code structure but cannot confirm CSS rendering, DOM attribute population, or the Shorts shelf selector accuracy in live YouTube.
Output: Confirmed Phase 4 complete, extension v1.1 feature-complete.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/04-observability-shorts-suppression/04-01-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Human verification: rich labels and Shorts suppression in Chrome</name>
  <action>Human opens extension in Chrome, navigates to YouTube watch pages, and verifies LABL-01 labels and SHRT-01 Shorts shelf are working as described below.</action>
  <verify>Human visual verification — see how-to-verify steps below.</verify>
  <done>Human types "approved" after confirming all 3 tests pass.</done>
  <what-built>
    Plan 04-01 implemented:
    - LABL-01: Collapsed sidebar items now show "hidden: {Category} · {Video Title}" via data-tfy-label CSS attribute
    - SHRT-01: ytd-reel-shelf-renderer and ytm-shorts-lockup-view-model-v2 hidden via display:none !important CSS
  </what-built>
  <how-to-verify>
    Reload the extension in Chrome (chrome://extensions → TFY → reload icon), then open a YouTube watch page.

    **Test 1 — Rich Labels (LABL-01):**
    1. Navigate to a YouTube video in a specific category (e.g., a Science &amp; Technology video)
    2. Wait ~2s for sidebar filtering to run
    3. Look at the sidebar — off-topic items should be collapsed to ~20px
    4. The collapsed label should read "hidden: Gaming · [video title]" (or similar with category name + title)
    5. Confirm the label is NOT just "hidden: off-topic"
    6. If no items are collapsed (all sidebar items are the same category), navigate to a different video category to force some off-topic items

    **Test 2 — Shorts Suppression (SHRT-01):**
    1. On the same watch page (or any YouTube watch page), scroll the sidebar
    2. Confirm there is no Shorts shelf / Shorts carousel visible in the sidebar
    3. Navigate to a few different videos — Shorts shelf should remain absent on all watch pages

    **Test 3 — SPA Navigation Label Update (Success Criterion 3):**
    1. Navigate from a Gaming video to a Music video using the sidebar or address bar
    2. Wait ~2s for filtering to re-run
    3. Confirm collapsed items now show the correct category for the NEW video's off-topic suggestions (different category names than before)

    Expected passing state:
    - Labels show "hidden: {CategoryName} · {title}" pattern — not "hidden: off-topic"
    - No Shorts shelf visible anywhere in sidebar on watch pages
    - Labels update on navigation
  </how-to-verify>
  <resume-signal>Type "approved" if all 3 tests pass, or describe which test(s) failed and what you observed</resume-signal>
</task>

</tasks>

<verification>
Human verification in Chrome is the only valid verification for this plan. No automated checks.
</verification>

<success_criteria>
- Collapsed label displays category name and video title (not just "hidden: off-topic")
- Shorts shelf is absent from sidebar on all tested watch pages
- Labels update correctly after SPA navigation
- Human confirms "approved"
</success_criteria>

<output>
After completion, create `.planning/phases/04-observability-shorts-suppression/04-02-SUMMARY.md`
</output>
